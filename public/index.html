<!DOCTYPE html>

<meta charset="UTF-8">
<html lang="en">

<script type="application/javascript" src="https://unpkg.com/react@16.0.0/umd/react.development.js"></script>
<script type="application/javascript" src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.development.js"></script>
<script type="application/javascript" src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>


<!-- <script src="./Gamebar.js" type="text/javascript"></script> -->
<body>
    <div id="root"></div>
</body>

<script type="text/babel">

class App extends React.Component {  

constructor(props) {
    super(props)
    this.state = {
        searchValue : "",
        searchResults : []
    }
}

eventChanger = (event) => {
    console.log('noop');
    console.log(event.target.value);
    if (event.target.value.length > 2) { //only do if string is longer than 2 characters 
        //fetch here
        //use fetch data to input search results
        fetch('/doc')
            .then(response => response.json())
            .then(data => {
                console.log(data);
            })
            .catch(err => {
                console.log(err);
            })

        //update state using setState
        console.log('boop');
    }
    this.setState({
        searchValue: event.target.value
    });
}

render() {
        //should ideally create a new class called gameList that lists all games that were fetched
       return( <div className="container1">
            <form>
                <input type="text" name="searchVal" className="searchbar-input" autoComplete="off" placeholder="Find a game" value={this.state.searchValue} onChange={this.eventChanger} />
            </form>
        </div>
       );
}
    }



ReactDOM.render(
    <App/>,
    document.getElementById('root')
);
</script>
</html>